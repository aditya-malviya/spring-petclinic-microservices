pipeline {
   agent any
   stages {
      stage('Pull Repo1') {
         steps {
          sh label: '', 
           script: 
           '''
           cd spring-petclinic-config-server/
           sudo cp -r src /var/lib/jenkins/aditya
           cd ..
           sudo rm -rf *
           '''
         } 
      }
      stage('Pull Repo2') {
         steps {
          checkout changelog: false, poll: false, 
          scm: [$class: 'GitSCM', branches: [[name: '*/master']], 
          doGenerateSubmoduleConfigurations: false, 
          extensions: [], 
          submoduleCfg: [], 
          userRemoteConfigs: [[url: 'https://github.com/aditya-malviya/JavaHelloWorld.git']]]
         } 
      }

      stage('Copy files') {
         steps {
          sh label: '', 
           script: 
           '''
           cd /var/lib/jenkins/aditya
           cp src/ /var/lib/jenkins/workspace/pet-clinic-config-service/src
           '''
         } 
      }
   }
}
